(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2618)}])},1282:function(e){"use strict";"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,(function(t){return e[t]}).bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),this.items=e}return e=[{key:"addItems",value:function(e){var t;return this.items=this.items.concat(e),this.items=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(t=new Set(this.items))||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()),this.items}},{key:"dropItems",value:function(e){var t=this.items.filter(function(t){return!e.includes(t)});return console.log("NEW ITEMS: ",t),this.items=t,this.items}},{key:"checkForItem",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"transferItem",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}],i(n.prototype,e),t&&i(n,t),n}();t.default=o,e.exports=t.default},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),this.name=e,this.keywords=t.map(function(e){return e.toLowerCase()}),this.results=i,this.itemRequirements=o,this.show=r,this.showIfLackingRequirements=s}return e=[{key:"matchKeywords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!1,i=[];return this.itemRequirements.length>0&&this.itemRequirements.forEach(function(e){var n=!1;t.forEach(function(t){t===e&&(n=!0)}),n||i.push(e)}),this.keywords.forEach(function(t){e.trim().includes(t.trim().toLowerCase())&&(n=!0)}),n?i.length>0?{fail:{missing:i,failText:this.results.failText}}:{success:this.results}:null}},{key:"matchRequirements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return this.itemRequirements.length>0&&this.itemRequirements.forEach(function(n){var i=!1;e.forEach(function(e){e===n&&(i=!0)}),i||t.push(n)}),!(t.length>0)}}],i(n.prototype,e),t&&i(n,t),n}();t.default=o,e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(1))&&i.__esModule?i:{default:i};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){var e,t;function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=(arguments.length>7&&void 0!==arguments[7]&&arguments[7],arguments.length>8&&void 0!==arguments[8]&&arguments[8],arguments.length>9&&void 0!==arguments[9]?arguments[9]:"room_templates/");(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),this.name=e,this.getText=t,this.type=i,this.isPrivate=a,this.templatesDir=l,this.scripts=o;var d=this;this.prompts=[],r.forEach(function(e){d.addPrompt(e.name,e.keywords,e.results,e.itemRequirements,e.show,e.showIfLackingRequirements)}),this.itemRequirements=s}return e=[{key:"makeFromRoomTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!==t&&(t=this.templatesDir)}},{key:"addPrompt",value:function(e,t,n,i,r,s){var a=new o.default(e,t,n,i,r,s);return this.prompts.push(a),this.prompts}},{key:"enter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="",n=!0;return this.itemRequirements>0?0===e.length?(n=!1,this.itemRequirements.forEach(function(e){t+="".concat(e.failText,". ")})):(this.itemRequirements.forEach(function(e){var i=!1;this.items.forEach(function(t){t===e&&(i=!0)}),!1===i&&(n=!1,t+=e.failText)}),!0===n&&(t=this.getText)):t=this.getText,[t,n]}},{key:"loadRoomScripts",value:function(){this.scripts.forEach(function(e){var t=document.createElement("script");t.setAttribute("src",e),t.setAttribute("type","application/javascript"),t.setAttribute("defer","defer"),t.setAttribute("async","true"),t.onload=function(){},document.body.appendChild(t)})}}],r(n.prototype,e),t&&r(n,t),n}();t.default=s,e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=(i=n(0))&&i.__esModule?i:{default:i};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){var e;function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.default,i=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments[3]),r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];arguments.length>5&&void 0!==arguments[5]&&arguments[5],function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.name=e,""===this.name&&(this.name="player"),this.inventory=n,""===this.currentRoom&&(this.currentRoom=this.startRoom),this.startRoom=i,this.parentRooms=r,this.inSubRoom=!1}return r(t.prototype,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e}},{key:"enterRoom",value:function(e){var t=e.enter(this.inventory.items);return!1===t[1]||(this.currentRoom=e.name),[t[0],t[1]]}},{key:"getItem",value:function(e){return this.inventory.addItem(e),this.inventory}},{key:"dropItem",value:function(e){return this.inventory.dropItem(e),this.inventory}},{key:"getState",value:function(e){}},{key:"saveState",value:function(e){}},{key:"connectWallet",value:function(){}},{key:"disconnectWallet",value:function(){}},{key:"getInventory",value:function(){return this.inventory}}]),e&&r(t,e),t}();t.default=s,e.exports=t.default},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"input";(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),this.disabled=e,this.value=t,this.elementId=i}return e=[{key:"enable",value:function(){this.disabled=!1,document.getElementById("input").disabled=!1}},{key:"disable",value:function(){this.disabled=!0,document.getElementById("input").disabled=!0}},{key:"send",value:function(e){e=e.toLowerCase(),this.value=e}}],i(n.prototype,e),t&&i(n,t),n}();t.default=o,e.exports=t.default},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"prompts",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"inventory",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"inventoryList",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"prompt",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"prompt-revealed",l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"inventoryItem";(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),this.html=e,this.elementId=t,this.promptContainerId=i,this.promptContainerClass=s,this.promptContainerRevealedClass=a,this.inventoryContainerId=o,this.inventoryListId=r,this.itemContainerClass=l}return e=[{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e?document.getElementById(this.elementId).innerHTML=this.html:(document.getElementById(this.elementId).innerHTML=e,this.html=e)}},{key:"showPrompts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.promptContainerId,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.promptContainerClass,i=document.getElementById(t);i.replaceChildren(),e.length>=1&&e.forEach(function(e){var t=document.createElement("p");if(t.classList.add(n),t.textContent=e.name,"show"in e==!0)e.show&&i.appendChild(t);else{if("revealed"in t){if(!0===t.revealed){var o=document.createElement("p");o.textContent=e.name,i.append(o)}else i.appendChild(t)}i.appendChild(t)}})}},{key:"showInventory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.inventoryContainerId,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.inventoryListId,arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.itemContainerClass),i=document.getElementById(t);(i.replaceChildren(),e.length>=1)?(document.getElementById("inventoryList").innerHTML="Inventory",e.forEach(function(e){var t=document.createElement("li");t.classList.add(n),t.textContent=e,i.appendChild(t)})):document.getElementById("inventoryList").innerHTML=""}},{key:"append",value:function(e){var t=document.createElement("div");t.innerHTML=e,document.getElementById(this.elementId).append(t)}},{key:"appendToParent",value:function(e){document.getElementById(this.elementId).parentElement.insertAdjacentHTML("afterend",e)}},{key:"clear",value:function(){document.getElementById(this.elementId).innerHTML=""}}],i(n.prototype,e),t&&i(n,t),n}();t.default=o,e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(5)),o=l(n(4)),r=l(n(3)),s=l(n(2)),a=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:""),s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),this.Display=new i.default,this.Input=new o.default,this.rooms=[];var a=this;e.forEach(function(e){a.addRoom(e.name,e.getText,e.type,e.prompts,e.itemRequirements)}),this.startRoom=t,this.endRoom=s,""===this.startRoom&&this.rooms.length>0&&(this.startRoom=this.rooms[0].name,this.Player.startRoom=this.startRoom,this.Player.currentRoom=this.Player.startRoom),""===this.endRoom&&this.rooms.length>1&&(this.endRoom=this.rooms[this.rooms.length-1].name),this.Player=new r.default(t=this.startRoom)}return e=[{key:"init",value:function(){var e;""===this.startRoom&&this.rooms.length>0&&(this.startRoom=this.rooms[0].name,this.Player.startRoom=this.startRoom,this.Player.currentRoom=this.Player.startRoom),""===this.endRoom&&this.rooms.length>1&&(this.endRoom=this.rooms[this.rooms.length-1].name);for(var t=0;t<this.rooms.length;t++)if(this.rooms[t].name===this.Player.currentRoom){e=this.rooms[t].getText,this.rooms[t].loadRoomScripts();break}void 0===e&&(e="No room text found."),this.refreshDisplay(e)}},{key:"loadData",value:function(e){var t=this;e.game.rooms.forEach(function(e){var n=[],i=[],o=[],r="default";void 0!==e.prompts&&(n=e.prompts),void 0!==e.itemRequirements&&(i=e.itemRequirements),void 0!==e.scripts&&(o=e.scripts),void 0!==e.type&&(r=e.type),t.addRoom(e.name,e.getText,r,o,n,i)}),void 0!==e.startRoom&&(this.startRoom=e.startRoom,this.Player.startRoom=e.startRoom),void 0!==e.endRoom&&(this.endRoom=e.endRoom),""!==this.startRoom&&void 0!==this.startRoom||this.rooms.length>0&&(this.startRoom=this.rooms[0].name,this.Player.startRoom=this.startRoom,this.Player.currentRoom=this.Player.startRoom),""!==this.endRoom&&void 0!==this.endRoom||this.rooms.length>1&&(this.endRoom=this.rooms[this.rooms.length-1].name)}},{key:"savePlayerState",value:function(e){}},{key:"loadPlayerState",value:function(e){}},{key:"addRoom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=new s.default(e,t,n,i,o,r);return this.rooms.push(a),a}},{key:"dropRoom",value:function(e){var t=this.rooms.filter(function(t){return t.name!==e});return this.rooms=t,this.rooms}},{key:"getRoom",value:function(e){return this.rooms.find(function(t){return t.name===e})}},{key:"userSend",value:function(e){this.Input.send(e),this.decidePath(this.Input.value)}},{key:"refreshDisplay",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==t&&this.Display.show(t);var n=[];this.getRoom(this.Player.currentRoom).prompts.forEach(function(t){"showIfLackingRequirements"in t?!0===t.showIfLackingRequirements?n.push(t):!0===t.matchRequirements(e.Player.inventory.items)&&(t.revealed=!0,n.push(t)):!0===t.matchRequirements(e.Player.items)&&n.push(t)}),this.Display.showPrompts(n),this.Display.showInventory(this.Player.inventory.items),this.getRoom(this.Player.currentRoom).loadRoomScripts(),document.querySelectorAll(".prompt").forEach(function(t){return t.addEventListener("click",function(t){e.userSend(t.currentTarget.innerText)})})}},{key:"decidePath",value:function(e){"restart"===e&&this.resetGame();var t=this,n=t.getRoom(t.Player.currentRoom);if(void 0!==d(n.prompts)){var i=!1;n.prompts.forEach(function(n){try{if(!1===i){var o=n.matchKeywords(e,t.Player.inventory.items);if(null!==o){if(i=!0,"success"in o&&(void 0!==o.success.itemsGiven&&t.Player.inventory.addItems(o.success.itemsGiven),void 0!==o.success.itemsRemoved&&t.Player.inventory.dropItems(o.success.itemsRemoved),void 0!==o.success.roomToEnter)){var r,s,a,l=(r=t.Player.enterRoom(t.getRoom(o.success.roomToEnter)),function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance")}());a=l[0],s=l[1],t.Display.clear(),t.getRoom(t.Player.currentRoom).type,t.Display.append("".concat(a)),void 0!==o.success.successText&&t.Display.append("<p class='successText'>".concat(o.success.successText,"</p>")),s&&o.success.roomToEnter===t.endRoom&&t.win()}if("fail"in o)return t.Display.clear(),t.Display.append("".concat(t.getRoom(t.Player.currentRoom).getText)),void 0!==o.fail.failText&&t.Display.append("<p class='failText'>".concat(o.fail.failText,"</p>")),void t.Display.append("<p class='missingItems'>Missing required items: \n                  ".concat(o.fail.missing.toString(),".\n                </p>"))}}}catch(e){console.log(e)}!1===i&&t.Display.show("".concat(t.getRoom(t.Player.currentRoom).getText,"\n                              <p class='failText'>No actions could be done from: \"").concat(e,"\". Try something else, or be\n                              more specific about what you're doing.</p>\n                              "))})}else t.Display.show("<p>".concat(t.getRoom(t.Player.currentRoom).getText," \n      </p> <p class='failText'>There doesn't seem to be any actions at all that you can do in this room.</p>\n      "));this.refreshDisplay()}},{key:"disableInput",value:function(){this.Input.disable()}},{key:"enableInput",value:function(){this.Input.enable()}},{key:"win",value:function(){for(var e=0;e<this.rooms.length;e++)if(this.rooms[e].name===this.endRoom){this.Display.append("<p>Game end.</p>");break}this.disableInput()}},{key:"resetGame",value:function(){this.Player.inventory=new a.default,this.Player.currentRoom=this.startRoom;var e=this.getRoom(this.startRoom);this.Display.show(e.getText),this.Input.enable()}}],c(n.prototype,e),t&&c(n,t),n}();t.default=u,e.exports=t.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=new((i=n(6))&&i.__esModule?i:{default:i}).default;t.default=o,e.exports=t.default}])},2618:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(5893),o=n(7294),r=n(1163),s=n(4780),a=n.n(s),l=n(1190),d=n(8716),c=n(2962),u=n(9477),h=n(9365);class m{initialize(){let e=document.getElementById(this.canvasEl);this.scene=new u.xsS,this.camera=new u.cPb(this.fov,e.offsetWidth/e.offsetHeight,1,1e3),this.camera.position.z=48;let t=document.getElementById(this.canvasId);this.camera&&(null==t||t.addEventListener("pointerdown",e=>this.onPointerDown(this.camera,e)),null==t||t.addEventListener("pointermove",e=>this.onPointerMove(this.camera,e)),null==t||t.addEventListener("touchend",e=>this.onTouchEnd(this.camera,e)));try{this.renderer=new u.CP7({canvas:t})}catch(e){this.renderer=void 0}if(this.renderer){this.renderer.setClearColor(0,0),this.renderer.setSize(e.offsetWidth,e.offsetHeight),this.clock=new u.SUY,this.controls=new h.z(this.camera,this.renderer.domElement),this.ambientLight=new u.Mig(16777215,1),this.ambientLight.castShadow=!0,this.scene.add(this.ambientLight),this.directionalLight=new u.Ox3(16777215,.5),this.directionalLight.position.set(0,0,64),this.scene.add(this.directionalLight);let t=window.location.href.split(" ");"/"===t.at(-1)&&window.addEventListener("resize",()=>this.onWindowResize(),!1)}}onPointerMove(e,t){let n=(t.clientX-this.renderer.domElement.offsetLeft)/this.renderer.domElement.clientWidth*2-1,i=-(2*((t.clientY-this.renderer.domElement.offsetTop)/this.renderer.domElement.clientHeight))+1,o=new u.Pa4(n,i,.5),r=new u.iMs;if(e){r.setFromCamera(o,e);let t=r.intersectObjects(this.scene.children,!0);t.length>0?document.body.style.cursor="pointer":document.body.style.cursor="default"}}onPointerDown(e,t){t.preventDefault();let n=(t.clientX-this.renderer.domElement.offsetLeft)/this.renderer.domElement.clientWidth*2-1,i=-(2*((t.clientY-this.renderer.domElement.offsetTop)/this.renderer.domElement.clientHeight))+1,o=new u.Pa4(n,i,.5),r=new u.iMs;if(e){r.setFromCamera(o,e);let t=r.intersectObjects(this.scene.children,!0);if(t.length>0){for(let e=0;e<t.length;e++)t[e].object.material.color.setHex(16777215*Math.random());if(this.game.Player.inventory.items.includes("drunkSmallPotion")){if("DungeonAdventureRoom"===this.game.Player.currentRoom){this.game.Player.inventory.addItems(["drunkBigPotion"]),this.game.Player.inventory.dropItems(["drunkSmallPotion"]);for(let e=0;e<this.scene.children.length;e++)console.log(this.scene.children[e].name),"Sketchfab_Scene"===this.scene.children[e].name&&this.scene.children[e].scale.set(.15,.15,.15);this.game.refreshDisplay()}}else if(this.game.userSend("drink potion"),this.game.Player.inventory.items.includes("drunkBigPotion"))("WelcomeRoom"===this.game.Player.currentRoom||"WelcomeRoom2"===this.game.Player.currentRoom)&&this.game.Player.inventory.dropItems(["drunkBigPotion"]);else if(this.game.Player.inventory.items.includes("drunkSmallPotion")){this.game.Player.inventory.dropItems(["drunkBigPotion"]);for(let e=0;e<this.scene.children.length;e++)"Sketchfab_Scene"===this.scene.children[e].name&&this.scene.children[e].scale.set(.075,.075,.075)}}}}onTouchEnd(e,t){t.preventDefault();let n=(t.touches[0].clientX-this.renderer.domElement.offsetLeft)/this.renderer.domElement.clientWidth*2-1,i=-(2*((t.touches[0].clientY-this.renderer.domElement.offsetTop)/this.renderer.domElement.clientHeight))+1,o=new u.Pa4(n,i,.5),r=new u.iMs;if(e){r.setFromCamera(o,e);let t=r.intersectObjects(this.scene.children,!0);if(t.length>0){for(let e=0;e<t.length;e++)t[e].object.material.color.setHex(16777215*Math.random());if(this.game.Player.inventory.items.includes("drunkSmallPotion")){if("DungeonAdventureRoom"===this.game.Player.currentRoom){this.game.Player.inventory.addItems(["drunkBigPotion"]),this.game.Player.inventory.dropItems(["drunkSmallPotion"]);for(let e=0;e<this.scene.children.length;e++)console.log(this.scene.children[e].name),"Sketchfab_Scene"===this.scene.children[e].name&&this.scene.children[e].scale.set(.15,.15,.15);this.game.refreshDisplay()}}else if(this.game.userSend("drink potion"),this.game.Player.inventory.items.includes("drunkBigPotion"))("WelcomeRoom"===this.game.Player.currentRoom||"WelcomeRoom2"===this.game.Player.currentRoom)&&this.game.Player.inventory.dropItems(["drunkBigPotion"]);else if(this.game.Player.inventory.items.includes("drunkSmallPotion")){this.game.Player.inventory.dropItems(["drunkBigPotion"]);for(let e=0;e<this.scene.children.length;e++)"Sketchfab_Scene"===this.scene.children[e].name&&this.scene.children[e].scale.set(.075,.075,.075)}}}}animate(){window.requestAnimationFrame(this.animate.bind(this)),this.render()}render(){this.renderer&&this.renderer.render(this.scene,this.camera)}onWindowResize(){let e=document.getElementById(this.canvasEl);this.camera.aspect=e.offsetWidth/e.offsetHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(e.offsetWidth,e.offsetHeight)}constructor(e,t,n){this.scene=void 0,this.camera=void 0,this.renderer=void 0,this.fov=45,this.nearPlane=1,this.farPlane=1e3,this.canvasId=e,this.canvasEl=t,this.clock=void 0,this.controls=void 0,this.ambientLight=void 0,this.directionalLight=void 0,this.raycaster=void 0,this.game=n,this.drankPotion=!1}}var f=n(1217);let v=e=>{let t,n;let s=(0,r.useRouter)(),a=()=>{try{n.scene.remove(t.scene)}catch(e){}};return(0,o.useEffect)(()=>{(n=new m("canvasId","scene-container",e.game)).initialize(),n.animate();let i=new f.E;return i.load("./model/drinkme.glb",e=>{t=e,e.scene.rotation.y=-100,e.scene.position.y=-6,e.scene.rotation.x=50,e.scene.scale.set(.15,.15,.15),n.scene.add(e.scene)}),s.events.on("routeChangeComplete",a),()=>{s.events.off("routeChangeComplete",a)}},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{id:"scene-container",style:{width:"400px",height:"700px"},children:(0,i.jsx)("canvas",{id:"canvasId"})})})},y=n(1282);function p(){let e;let t=(0,r.useRouter)(),[n,s]=(0,o.useState)(""),[u,h]=(0,o.useState)(!1),m=0,f=["a full-stack dev specializing in machine learning and web3 projects","a co-founder at manic.agency an open-source and writing collective",'an artist formerly known as an "artist" formerly known as an artifice',"a persona non grata to myself looking for forgiveness","a part of a god split and scattered by a goddess and tasked to find its pieces again, just like you","a (still) blank page of history that will survive only in severed memories"],p=!1,g=async(e,t)=>{try{let n=await fetch(e);if("JSON"===t.toUpperCase())return n.json();return n}catch(e){return e}};(0,o.useEffect)(()=>{document.addEventListener("click",function(){R()}),h(!0),u&&(p||(p=!0,e=setInterval(function(){(function(){if("/"===t.asPath)try{var n,i;if(m==f.length-1)try{clearTimeout(e),null===(n=document.getElementById("subHeading"))||void 0===n||n.classList.remove("shimmer")}catch(e){}else try{null===(i=document.getElementById("subHeading"))||void 0===i||i.setAttribute("class","text-fade shimmer"),setTimeout(()=>{try{var e;document.getElementById("subHeading").innerHTML=f[m],null===(e=document.getElementById("subHeading"))||void 0===e||e.setAttribute("class","text-show shimmer")}catch(e){}},1050),m++}catch(e){}}catch(e){}})()},5500)),b())},[t,u]);let b=async()=>{g("/game.json","json").then(e=>{y.loadData(e),y.init(),document.getElementById("input").addEventListener("keypress",function(e){13===e.keyCode&&P(e)})}).catch(e=>{console.log("ERROR: ",e)})};function P(e){e.preventDefault(),y.userSend(document.getElementById("input").value),document.getElementById("input").value="",R()}function R(){let e="";if("/"===t.asPath){if(y.Player.inventory.items.includes("drunkSmallPotion")&&(e+="You feel smaller now. "),y.Player.inventory.items.includes("drunkBigPotion")&&(e+="You feel normal again. "),y.Player.inventory.items.includes("weightedHeart")&&(e+="You feel more burdened inside. "),y.Player.inventory.items.includes("weightedBack")&&(e+="Your body feels more burdened. "),y.Player.inventory.items.includes("hourglassOfRestoration")&&(e+="You feel wiser now. "),"DungeonAdventureStayInsideRoom"===y.Player.currentRoom){e+="<br> You are content now.";try{document.getElementById("sendButton").style.display="none",document.getElementById("input").disabled=!0,document.getElementById("input").placeholder="there is nothing more that you could want"}catch(e){}}try{document.getElementById("status").innerHTML=e}catch(e){}}}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.PB,{title:"Johnny's Place - Portfolio",description:"Homepage for Johnny Dunn. Portfolio of works here."}),(0,i.jsx)("div",{className:a().container,children:(0,i.jsx)("div",{className:a().body,children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{className:"firstCol",children:[(0,i.jsx)(l.M,{children:(0,i.jsxs)(d.E.div,{className:a().left_col_top,initial:"hidden",animate:"visible",variants:{hidden:{scale:.8,opacity:0},visible:{scale:1,opacity:1,transition:{delay:.4,duration:.4}}},style:{marginTop:"20px",marginLeft:"10px"},children:[(0,i.jsx)("h2",{className:"glitch",style:{marginBottom:"10px",marginTop:"20px",fontSize:"1.8em"},children:"I AM"}),(0,i.jsxs)("div",{style:{display:"inline",paddingTop:"40px"},className:"glitch2",children:[(0,i.jsx)("h1",{style:{display:"inline",fontSize:"1.8em",letterSpacing:"2px",marginTop:"20px"},className:"willHide",children:"JOHNNY"}),(0,i.jsx)("h1",{style:{paddingTop:"20px",marginLeft:"6px",display:"inline",fontSize:"1.8em",letterSpacing:"2px",marginTop:"20px"},className:"willHide",children:"DUNN"})]}),(0,i.jsx)("h3",{id:"subHeading",className:"shimmer",children:"a full-stack dev specializing in web3 and machine learning projects"})]})}),(0,i.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"40px"},children:[(0,i.jsx)(d.E.p,{initial:"hidden",animate:"visible",variants:{hidden:{x:"-100px",opacity:0},visible:{x:0,opacity:1,transition:{delay:.4,duration:.4}}}}),(0,i.jsxs)(d.E.p,{initial:"hidden",animate:"visible",variants:{hidden:{x:"100px",opacity:0},visible:{x:0,opacity:1,transition:{delay:.4,duration:.4}}},whileHover:{scale:[1,1.4,1.2],transition:{duration:.2}},children:[" ","// a new player emerges"]})]}),u&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.M,{children:(0,i.jsxs)(d.E.div,{className:a().left_col_top,initial:"hidden",animate:"visible",variants:{hidden:{scale:.8,opacity:0},visible:{scale:1,opacity:1,transition:{delay:.4,duration:.4}}},children:[(0,i.jsxs)("div",{id:"player",children:[(0,i.jsx)("h4",{children:"Player"}),(0,i.jsx)("div",{id:"status"}),(0,i.jsx)("h4",{id:"inventoryList"}),(0,i.jsx)("div",{id:"inventory"})]}),(0,i.jsxs)("div",{id:"game",suppressHydrationWarning:!0,children:[(0,i.jsx)("div",{id:"display"}),(0,i.jsxs)("div",{id:"inputContainer",style:{fontSize:"28px"},children:[(0,i.jsx)("input",{type:"text",value:n,id:"input",onChange:function(e){e.preventDefault(),s(e.target.value)},placeholder:"say or do something"}),(0,i.jsx)("button",{onClick:P,id:"sendButton",children:"send"})]}),(0,i.jsx)("div",{id:"prompts"})]})]})})})]}),(0,i.jsx)("div",{className:"secondCol",children:(0,i.jsx)(v,{game:y})})]})})})]})}},4780:function(){}},function(e){e.O(0,[737,424,716,793,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);